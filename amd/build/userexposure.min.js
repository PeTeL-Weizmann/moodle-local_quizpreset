define(["jquery","core/ajax","core/notification","core/str"],function(e,t,o,d){return{selector:{button:"#quiz-grade-button",hidden:"#quiz-grade"},init:function(){var t=e(this.selector.button),o=this;t.on("click",function(e){o.changeGrades()})},changeGrades:function(){var t=this;d.get_strings([{key:"buttondisablegrades",component:"local_quizpreset"},{key:"buttonenablegrades",component:"local_quizpreset"}]).done(function(o){var d=e(t.selector.hidden).val();0==d&&(e(t.selector.hidden).val(1),e(t.selector.button).html(o[0]),e(t.selector.button).removeClass("btn-primary").addClass("btn-secondary"),e("#id_marksduring").prop("checked",!0),e("#id_marksimmediately").prop("checked",!0),e("#id_marksopen").prop("checked",!0),e("#id_marksclosed").prop("checked",!0),e("#id_timeclose_day").prop("disabled",!1),e("#id_timeclose_month").prop("disabled",!1),e("#id_timeclose_year").prop("disabled",!1),e("#id_timeclose_hour").prop("disabled",!1),e("#id_timeclose_minute").prop("disabled",!1),e("#id_timeclose_enabled").is(":checked")||e("#id_timeclose_enabled").click(),t.setDateTime("timeclose")),1==d&&(e(t.selector.hidden).val(0),e(t.selector.button).html(o[1]),e(t.selector.button).removeClass("btn-secondary").addClass("btn-primary"),e("#id_marksduring").prop("checked",!1),e("#id_marksimmediately").prop("checked",!1),e("#id_marksopen").prop("checked",!1),e("#id_marksclosed").prop("checked",!1),e("#id_timeclose_enabled").is(":checked")&&e("#id_timeclose_enabled").click())}).fail(o.exception)},setDateTime:function(t){var o=new Date,d=o.getMonth()+1;e('[name="'+t+'[hour]"] option[value='+o.getHours()+"]").prop("selected","selected"),e('[name="'+t+'[minute]"] option[value='+o.getMinutes()+"]").prop("selected","selected"),e('[name="'+t+'[year]"] option[value='+o.getFullYear()+"]").prop("selected","selected"),e('[name="'+t+'[month]"] option[value='+d+"]").prop("selected","selected"),e('[name="'+t+'[day]"] option[value='+o.getDate()+"]").prop("selected","selected")}}});